<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NYC Bingo — Feb 2026</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Cormorant+Garamond:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --gold: #c9973f;
      --gold-light: #e8d5a3;
      --gold-dark: #8b6914;
      --cream: #faf6ee;
      --warm-gray: #3d3529;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Cormorant Garamond', serif;
      background: linear-gradient(160deg, var(--cream) 0%, #f5edd8 50%, var(--cream) 100%);
      min-height: 100vh;
      color: var(--warm-gray);
      -webkit-tap-highlight-color: transparent;
    }

    /* ── NAME SCREEN ── */
    .name-screen {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
    }

    .name-card {
      position: relative;
      background: white;
      border-radius: 16px;
      padding: 60px 40px 40px;
      text-align: center;
      max-width: 420px;
      width: 100%;
      border: 1.5px solid var(--gold-light);
      box-shadow: 0 20px 60px rgba(139,105,20,0.08);
      overflow: hidden;
    }

    .name-card::before {
      content: '';
      position: absolute;
      top: -80px;
      left: 50%;
      transform: translateX(-50%);
      width: 300px;
      height: 160px;
      background: radial-gradient(ellipse at center bottom, rgba(232,213,163,0.2) 0%, transparent 70%);
      pointer-events: none;
    }

    .name-stars {
      color: var(--gold);
      font-size: 18px;
      letter-spacing: 12px;
      margin-bottom: 16px;
    }

    .name-title {
      font-family: 'Playfair Display', serif;
      font-size: 20px;
      font-weight: 400;
      letter-spacing: 6px;
      text-transform: uppercase;
    }

    .name-subtitle {
      font-size: 13px;
      color: var(--gold);
      letter-spacing: 4px;
      margin-top: 4px;
      text-transform: uppercase;
      font-weight: 500;
    }

    .name-divider {
      margin: 20px auto;
      width: 120px;
      height: 1px;
      background: var(--gold-light);
      position: relative;
    }

    .name-divider::after {
      content: '✦';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 0 8px;
      color: var(--gold);
      font-size: 14px;
    }

    .name-bingo {
      font-family: 'Playfair Display', serif;
      font-size: 48px;
      font-weight: 900;
      letter-spacing: 10px;
      margin-bottom: 28px;
    }

    .name-prompt {
      font-size: 16px;
      font-weight: 500;
      margin-bottom: 16px;
    }

    .name-input {
      width: 100%;
      padding: 14px 16px;
      font-size: 18px;
      font-family: 'Cormorant Garamond', serif;
      border: 1.5px solid var(--gold-light);
      border-radius: 8px;
      outline: none;
      text-align: center;
      color: var(--warm-gray);
      background: rgba(250,246,238,0.4);
      transition: border-color 0.2s;
    }

    .name-input:focus {
      border-color: var(--gold);
    }

    .name-button {
      margin-top: 16px;
      padding: 14px 36px;
      font-size: 16px;
      font-family: 'Cormorant Garamond', serif;
      font-weight: 600;
      letter-spacing: 3px;
      text-transform: uppercase;
      background: linear-gradient(135deg, var(--gold), var(--gold-dark));
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      box-shadow: 0 4px 16px rgba(201,151,63,0.3);
    }

    .name-button:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 24px rgba(201,151,63,0.4);
    }

    .name-button:active {
      transform: translateY(0);
    }

    /* ── MAIN APP ── */
    .app {
      display: none;
      padding: 24px 16px;
      max-width: 620px;
      margin: 0 auto;
      position: relative;
    }

    .app.active { display: block; }
    .name-screen.hidden { display: none; }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 24px;
      position: relative;
    }

    .header::before {
      content: '';
      position: absolute;
      top: -60px;
      left: 50%;
      transform: translateX(-50%);
      width: 400px;
      height: 200px;
      background: radial-gradient(ellipse at center bottom, rgba(232,213,163,0.13) 0%, transparent 70%);
      pointer-events: none;
    }

    .header-arc {
      font-size: 11px;
      letter-spacing: 5px;
      color: var(--gold);
      text-transform: uppercase;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .header-title {
      font-family: 'Playfair Display', serif;
      font-size: 42px;
      font-weight: 900;
      letter-spacing: 8px;
      margin-bottom: 12px;
    }

    .greeting {
      font-size: 17px;
      font-weight: 400;
      margin-bottom: 12px;
    }

    .greeting-name {
      font-weight: 700;
      color: var(--gold);
      font-family: 'Playfair Display', serif;
    }

    .progress-outer {
      max-width: 300px;
      margin: 0 auto;
      height: 6px;
      background: rgba(232,213,163,0.33);
      border-radius: 3px;
      overflow: hidden;
    }

    .progress-inner {
      height: 100%;
      background: linear-gradient(90deg, var(--gold), var(--gold-dark));
      border-radius: 3px;
      transition: width 0.5s ease;
      width: 0%;
    }

    .progress-text {
      font-size: 13px;
      color: var(--gold);
      margin-top: 6px;
      letter-spacing: 2px;
      font-weight: 500;
      text-align: center;
    }

    /* Grid */
    .grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 6px;
      margin: 0 auto;
    }

    .cell {
      position: relative;
      aspect-ratio: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: white;
      border: 1px solid var(--gold-light);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s ease;
      padding: 4px;
      overflow: hidden;
      outline: none;
      font-family: 'Cormorant Garamond', serif;
      animation: fadeInUp 0.4s ease backwards;
    }

    .cell:active { transform: scale(0.95); }

    .cell.marked {
      background: linear-gradient(145deg, #f8f0dd, #f2e8cf);
      border-color: var(--gold);
    }

    .cell.winning {
      background: linear-gradient(145deg, rgba(232,213,163,0.53), rgba(201,151,63,0.27));
      border-color: var(--gold);
      border-width: 2px;
      animation: pulseGlow 2s ease-in-out infinite;
    }

    .cell.free {
      background: linear-gradient(145deg, rgba(232,213,163,0.27), var(--cream));
      border-color: var(--gold-light);
      cursor: default;
    }

    .cell-x {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 38px;
      font-weight: 300;
      color: rgba(201,151,63,0.53);
      line-height: 1;
      pointer-events: none;
    }

    .cell-heart {
      color: rgba(201,151,63,0.4);
      font-size: 22px;
      margin-bottom: 2px;
    }

    .cell-text {
      font-size: 11px;
      font-weight: 600;
      color: var(--warm-gray);
      text-align: center;
      line-height: 1.2;
      text-transform: lowercase;
      letter-spacing: 0.5px;
      position: relative;
      z-index: 1;
      padding: 0 2px;
    }

    .cell.marked .cell-text { opacity: 0.5; }
    .cell.free .cell-text { opacity: 0.7; }

    .cell-glow {
      position: absolute;
      inset: 0;
      background: linear-gradient(90deg, transparent, rgba(201,151,63,0.07), transparent);
      background-size: 200% 100%;
      animation: shimmer 3s linear infinite;
      pointer-events: none;
    }

    /* Footer */
    .footer {
      text-align: center;
      margin-top: 24px;
      font-size: 12px;
      color: var(--gold);
      letter-spacing: 2px;
      font-weight: 500;
    }

    .footer-star { margin: 0 8px; font-size: 10px; }

    /* Win banner */
    .win-banner {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 999;
      background: linear-gradient(135deg, var(--gold), var(--gold-dark));
      color: white;
      text-align: center;
      padding: 16px 24px;
      font-family: 'Playfair Display', serif;
      font-size: 22px;
      font-weight: 700;
      letter-spacing: 3px;
      animation: winSlide 4s ease-in-out forwards;
      box-shadow: 0 4px 20px rgba(139,105,20,0.3);
    }

    .win-banner .star { margin: 0 12px; font-size: 16px; }

    /* Confetti */
    .confetti-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1000;
    }

    .confetti-piece {
      position: absolute;
      top: -10px;
      opacity: 0;
      animation: confettiFall ease-in forwards;
    }

    /* Animations */
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(12px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulseGlow {
      0%, 100% { box-shadow: 0 0 8px rgba(201,151,63,0.3); }
      50% { box-shadow: 0 0 20px rgba(201,151,63,0.6); }
    }

    @keyframes winSlide {
      0% { transform: translateY(-100%); opacity: 0; }
      10% { transform: translateY(0); opacity: 1; }
      90% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(-100%); opacity: 0; }
    }

    @keyframes shimmer {
      0% { background-position: -200% center; }
      100% { background-position: 200% center; }
    }

    @keyframes confettiFall {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }

    /* Responsive */
    @media (max-width: 480px) {
      .grid { gap: 4px; }
      .cell-text { font-size: 9px; }
      .cell-x { font-size: 28px; }
      .header-title { font-size: 32px; letter-spacing: 5px; }
      .name-bingo { font-size: 36px; }
    }
  </style>
</head>
<body>

  <!-- NAME SCREEN -->
  <div class="name-screen" id="nameScreen">
    <div class="name-card">
      <div class="name-stars">✦ ✦ ✦</div>
      <h1 class="name-title">New York Trip</h1>
      <p class="name-subtitle">Feb 2026 Edition</p>
      <div class="name-divider"></div>
      <h2 class="name-bingo">BINGO</h2>
      <p class="name-prompt">What's your name, explorer?</p>
      <input class="name-input" id="nameInput" placeholder="Enter your name..." autofocus />
      <br />
      <button class="name-button" id="nameButton">Let's Go ✦</button>
    </div>
  </div>

  <!-- MAIN APP -->
  <div class="app" id="app">
    <header class="header">
      <p class="header-arc">New York Trip: Feb 2026 Edition</p>
      <h1 class="header-title">BINGO</h1>
      <p class="greeting">Hi <span class="greeting-name" id="greetingName"></span>, this is your progress</p>
      <div class="progress-outer">
        <div class="progress-inner" id="progressBar"></div>
      </div>
      <p class="progress-text" id="progressText">0 / 24 completed</p>
    </header>

    <div class="grid" id="grid"></div>

    <footer class="footer">
      <span class="footer-star">✦</span>
      www.aminaisthebesttourguide.com
      <span class="footer-star">✦</span>
    </footer>
  </div>

  <script>
    const ITEMS = [
      ["levain cookie", "bibble & sip", "times square", "all'antico vinaio", "souvlaki"],
      ["williamsburg", "pizza", "soba azuma", "spyscape", "the edge"],
      ["central park", "broadway show", "FREE", "spot a rat", "live through a crazy subway story"],
      ["hudson vessel", "washington mews", "museum", "harry potter shop", "grace street"],
      ["apple store", "7th street burger", "halal cart", "wall street", "joe and the juice"],
    ];

    const LINES = [
      // Rows
      ...Array.from({ length: 5 }, (_, r) => Array.from({ length: 5 }, (_, c) => [r, c])),
      // Columns
      ...Array.from({ length: 5 }, (_, c) => Array.from({ length: 5 }, (_, r) => [r, c])),
      // Diagonals
      [[0,0],[1,1],[2,2],[3,3],[4,4]],
      [[0,4],[1,3],[2,2],[3,1],[4,0]],
    ];

    const KEY_NAME = "nycbingo_name";
    const KEY_GRID = "nycbingo_grid";

    let marked = Array.from({ length: 5 }, () => Array(5).fill(false));
    marked[2][2] = true; // free space
    let winningCells = new Set();
    let hasWon = false;

    // Load saved state
    function loadState() {
      try {
        const savedGrid = localStorage.getItem(KEY_GRID);
        if (savedGrid) {
          marked = JSON.parse(savedGrid);
          marked[2][2] = true;
        }
      } catch {}
    }

    function saveGrid() {
      try {
        localStorage.setItem(KEY_GRID, JSON.stringify(marked));
      } catch {}
    }

    function saveName(name) {
      try {
        localStorage.setItem(KEY_NAME, name);
      } catch {}
    }

    function getSavedName() {
      try {
        return localStorage.getItem(KEY_NAME) || "";
      } catch { return ""; }
    }

    // Check wins
    function checkWins() {
      const newWinning = new Set();
      for (const line of LINES) {
        if (line.every(([r, c]) => marked[r][c])) {
          line.forEach(([r, c]) => newWinning.add(`${r}-${c}`));
        }
      }
      const hadWin = winningCells.size > 0;
      winningCells = newWinning;

      if (newWinning.size > 0 && !hadWin) {
        hasWon = true;
        showWinBanner();
        launchConfetti();
      }
    }

    // Build grid
    function buildGrid() {
      const grid = document.getElementById("grid");
      grid.innerHTML = "";

      ITEMS.forEach((row, r) => {
        row.forEach((item, c) => {
          const cell = document.createElement("button");
          cell.className = "cell";
          cell.style.animationDelay = `${(r * 5 + c) * 0.03}s`;

          const isFree = r === 2 && c === 2;
          const isMarked = marked[r][c];
          const isWinning = winningCells.has(`${r}-${c}`);

          if (isMarked) cell.classList.add("marked");
          if (isWinning) cell.classList.add("winning");
          if (isFree) cell.classList.add("free");

          let inner = "";

          if (isMarked && !isFree) {
            inner += `<div class="cell-x">✕</div>`;
          }
          if (isFree) {
            inner += `<div class="cell-heart">♥</div>`;
          }

          inner += `<span class="cell-text">${item}</span>`;

          if (isWinning) {
            inner += `<div class="cell-glow"></div>`;
          }

          cell.innerHTML = inner;

          if (!isFree) {
            cell.addEventListener("click", () => {
              marked[r][c] = !marked[r][c];
              saveGrid();
              checkWins();
              buildGrid();
              updateProgress();
            });
          }

          grid.appendChild(cell);
        });
      });
    }

    function updateProgress() {
      const count = marked.flat().filter(Boolean).length - 1; // minus free
      document.getElementById("progressBar").style.width = `${(count / 24) * 100}%`;
      document.getElementById("progressText").textContent = `${count} / 24 completed`;
    }

    function showWinBanner() {
      const name = getSavedName();
      const banner = document.createElement("div");
      banner.className = "win-banner";
      banner.innerHTML = `<span class="star">✦</span> BINGO! You did it, ${name}! <span class="star">✦</span>`;
      document.body.appendChild(banner);
      setTimeout(() => banner.remove(), 4500);
    }

    function launchConfetti() {
      const container = document.createElement("div");
      container.className = "confetti-container";
      const colors = ["#c9973f", "#e8d5a3", "#8b6914", "#fff", "#d4a843", "#f0e6cc"];

      for (let i = 0; i < 60; i++) {
        const piece = document.createElement("div");
        piece.className = "confetti-piece";
        const size = 4 + Math.random() * 8;
        piece.style.cssText = `
          left: ${Math.random() * 100}%;
          width: ${size}px;
          height: ${size}px;
          background: ${colors[Math.floor(Math.random() * colors.length)]};
          border-radius: ${size > 8 ? "50%" : "1px"};
          animation-duration: ${2 + Math.random() * 2}s;
          animation-delay: ${Math.random() * 0.8}s;
        `;
        container.appendChild(piece);
      }

      document.body.appendChild(container);
      setTimeout(() => container.remove(), 5000);
    }

    // Show app
    function showApp(name) {
      document.getElementById("nameScreen").classList.add("hidden");
      document.getElementById("app").classList.add("active");
      document.getElementById("greetingName").textContent = name;
      loadState();
      checkWins();
      buildGrid();
      updateProgress();
    }

    // Init
    function init() {
      const savedName = getSavedName();

      if (savedName) {
        showApp(savedName);
      } else {
        document.getElementById("nameButton").addEventListener("click", submitName);
        document.getElementById("nameInput").addEventListener("keydown", (e) => {
          if (e.key === "Enter") submitName();
        });
      }
    }

    function submitName() {
      const name = document.getElementById("nameInput").value.trim();
      if (!name) return;
      saveName(name);
      showApp(name);
    }

    init();
  </script>
</body>
</html>